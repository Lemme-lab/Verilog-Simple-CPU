# **Simple CPU in Verilog**

## Overview

This project demonstrates a **Simple CPU** designed entirely in Verilog, starting from the most fundamental NAND gates and building up to a complete CPU. The design is available in both **8-bit** and **16-bit** architectures, showcasing how different lane widths affect CPU complexity and functionality. The project is inspired by the [TinyTapeout](https://tinytapeout.com/) initiative, which allows creators to design their own digital circuits and have them fabricated in real silicon.

## Features

- **Built from NAND gates**: The CPU is constructed using basic logic gates, illustrating how complex systems can emerge from simple components.
- **8-bit and 16-bit versions**: Both versions share the same architecture, with variations in bit width and processing capabilities.
- **Fully designed in Verilog**: Implemented entirely in Verilog, making it accessible and understandable for those familiar with hardware description languages.
- **Tested on TinyTapeout**: The designs are tested using the TinyTapeout platform, which allows for real-world silicon fabrication.

## CPU Architecture

### Common Architecture for 8-bit and 16-bit CPUs

Both CPUs have the same architecture but differ in the bit-width of their data paths, registers, and instruction sets. Here's a summary of the architecture:

- **Data Width**: 8 bits or 16 bits
- **Instruction Set**: Supports various operations like addition, subtraction, bitwise operations, multiplication, division, and more.
- **Registers**: Multiple general-purpose registers for computation.
- **Program Counter (PC)**: Keeps track of the next instruction to be executed.
- **Arithmetic Logic Unit (ALU)**: Performs arithmetic and logical operations based on the provided control signals.
- **Control Unit**: Decodes instructions and generates control signals for the ALU, data registers, and output registers.

![CPU Block Diagram](https://placehold.co/800x400?text=CPU+Block+Diagram)

# Control Unit Logic Table

## Overview

The `Control_Unit` module in the CPU design is responsible for decoding instructions and generating the appropriate control signals for the Arithmetic Logic Unit (ALU) and Output Register. It takes an 8-bit instruction as input and produces various control signals, including:

- `sub` - Subtraction signal for the ALU
- `op_select` - Operation select signal for the ALU
- `write_enable` - Write enable for the Output Register
- `read_enable` - Read enable for the Output Register
- `output_index` - Index for Output Register operations

## Logic Table

The following table describes the control signals generated by the `Control_Unit` based on the 8-bit `instruction` input. The upper 4 bits of the instruction (`instruction[7:4]`) represent the opcode, while the lower 5 bits (`instruction[4:0]`) are used to determine the `output_index` when required.

| `instruction[7:4]` (Opcode) | `instruction[4:0]` (Output Index) | `op_select` | `sub` | `write_enable` | `read_enable` | `output_index` |
|-----------------------------|-----------------------------------|-------------|-------|----------------|---------------|----------------|
| `0000` (ADD)                | `xxxxx`                           | `000`       | `0`   | `0`            | `0`           | `00000`        |
| `0001` (SUBTRACT)           | `xxxxx`                           | `001`       | `1`   | `0`            | `0`           | `00000`        |
| `0100` (MULTIPLY)           | `xxxxx`                           | `100`       | `0`   | `0`            | `0`           | `00000`        |
| `0101` (DIVIDE)             | `xxxxx`                           | `101`       | `0`   | `0`            | `0`           | `00000`        |
| `0110` (OUTPUT)             | `index`                           | `000`       | `0`   | `1`            | `0`           | `index`        |
| `0111` (OUTPUT_READ)        | `index`                           | `000`       | `0`   | `0`            | `1`           | `index`        |
| Default (others)            | `xxxxx`                           | `000`       | `0`   | `0`            | `0`           | `00000`        |

## Examples with Expected Outputs

Below are several examples that illustrate the functionality of the `Control_Unit` module:

### Example 1: ADD Instruction

- **Input Instruction**: `8'b00000000` (Opcode `0000`, irrelevant Output Index)
- **Expected Outputs**:
  - `op_select`: `3'b000` (ADD operation)
  - `sub`: `0`
  - `write_enable`: `0`
  - `read_enable`: `0`
  - `output_index`: `5'b00000`

### Example 2: SUBTRACT Instruction

- **Input Instruction**: `8'b00010000` (Opcode `0001`, irrelevant Output Index)
- **Expected Outputs**:
  - `op_select`: `3'b001` (SUBTRACT operation)
  - `sub`: `1`
  - `write_enable`: `0`
  - `read_enable`: `0`
  - `output_index`: `5'b00000`

### Example 3: MULTIPLY Instruction

- **Input Instruction**: `8'b01000000` (Opcode `0100`, irrelevant Output Index)
- **Expected Outputs**:
  - `op_select`: `3'b100` (MULTIPLY operation)
  - `sub`: `0`
  - `write_enable`: `0`
  - `read_enable`: `0`
  - `output_index`: `5'b00000`

### Example 4: OUTPUT Instruction

- **Input Instruction**: `8'b01100011` (Opcode `0110`, Output Index `00011`)
- **Expected Outputs**:
  - `op_select`: `3'b000` (Default operation)
  - `sub`: `0`
  - `write_enable`: `1`
  - `read_enable`: `0`
  - `output_index`: `5'b00011` (from instruction)

### Example 5: OUTPUT_READ Instruction

- **Input Instruction**: `8'b01110101` (Opcode `0111`, Output Index `00101`)
- **Expected Outputs**:
  - `op_select`: `3'b000` (Default operation)
  - `sub`: `0`
  - `write_enable`: `0`
  - `read_enable`: `1`
  - `output_index`: `5'b00101` (from instruction)

### Example 6: Default (Unrecognized Opcode)

- **Input Instruction**: `8'b10000000` (Unrecognized Opcode `1000`, irrelevant Output Index)
- **Expected Outputs**:
  - `op_select`: `3'b000` (Default operation)
  - `sub`: `0`
  - `write_enable`: `0`
  - `read_enable`: `0`
  - `output_index`: `5'b00000` (default)

## TinyTapeout Integration

This project utilizes the [TinyTapeout](https://tinytapeout.com/) platform to prototype and test the CPU designs. TinyTapeout provides a streamlined process to design, verify, and fabricate digital circuits, offering a fantastic learning platform for both beginners and experts in digital design.

## Conclusion

The **Simple CPU in Verilog** project illustrates how CPUs can be constructed from the most basic building blocks to more advanced systems capable of executing multiple instructions. This project serves as an educational resource for anyone interested in digital design, Verilog programming, or computer architecture.

